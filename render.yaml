# render.yaml
# Blueprint for deploying the hosting platform on Render.com
services:
  # The Backend API (Node.js/Express)
  - type: web
    name: your-platform # CHANGE THIS to a unique name for your backend
    env: node
    plan: free
    # Make sure your main branch is called 'main' or 'master'
    branch: main
    # Build and Start Commands
    buildCommand: npm install
    startCommand: node server.js
    # Disk for storing deployed websites
    disks:
      - name: deployments
        mountPath: /opt/render/project/src/deployments
        sizeGB: 1 # 1GB is the smallest size
      - name: uploads
        mountPath: /opt/render/project/src/uploads
        sizeGB: 1
    # Environment Variables
    envVars:
      - key: MONGO_URI
        fromDatabase:
          name: platform-db # Matches the database name below
          property: connectionString
      - key: JWT_SECRET
        generateValue: true # Let Render create a secure secret
      - key: DOMAIN_NAME
        value: your-platform.onrender.com # IMPORTANT: This MUST match your service name + .onrender.com

# The Database (MongoDB)
databases:
  - name: platform-db
    plan: free